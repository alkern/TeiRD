<!DOCTYPE html>
<html>
	<head>
		<title>TeiRD</title>
		<link rel="stylesheet" type="text/css" href="styles/default.css"/>
	</head>

	<body>
		<h1>TeiRD</h1>
		<div class="form">
			<form action="javascript:render()">
			  Source: <input type="text" name="source" id="ed_source" value=""/><br>
			  <input type="submit" value="Submit"/>
			</form>
		</div>
		<div id="text"/>

		<script>
			function render() {
				var url = document.getElementById("ed_source").value;
				loadXML(url, translateXML);
			};

			function loadXML(url, callback) {
				var xhr = new XMLHttpRequest();
				xhr.open("GET", "res/example.xml", false);
				xhr.send();
				var resp = getXmlString(xhr);

				callback(resp);
			};

			function getXmlString(xhr) {
				if (window.ActiveXObject) { return xml.xml; }
				return new XMLSerializer().serializeToString(xhr.responseXML);
			}

			function translateXML(resp) {
				var xmlTextNode = document.createTextNode(resp);
				document.getElementById("text").appendChild(xmlTextNode);
			};
		</script>
	</body>
</html>
